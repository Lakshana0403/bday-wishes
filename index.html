<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For You ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Girly Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Dancing+Script:wght@500;600&family=Playfair+Display:wght@400;600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
    height:100vh;
    background:radial-gradient(circle at top,#ffe0ec,#ffb6c1,#ff69b4);
    overflow:hidden;
    color:white;
    font-family:'Poppins',sans-serif;
}

/* Sections */
section{
    display:none;
    height:100vh;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    text-align:center;
}
section.active{display:flex;}

/* Floating hearts */
.heart{
    position:absolute;
    animation:float 6s linear infinite;
    opacity:0.8;
}
@keyframes float{
    0%{transform:translateY(100vh);opacity:0;}
    50%{opacity:1;}
    100%{transform:translateY(-10vh);opacity:0;}
}

/* Cards */
.card{
    background:rgba(255,255,255,0.25);
    backdrop-filter:blur(22px);
    padding:60px;
    border-radius:45px;
    width:420px;
    box-shadow:0 0 90px rgba(255,105,180,0.7);
}

/* Titles */
h1{
    font-family:'Great Vibes',cursive;
    font-size:80px;
    text-shadow:0 0 50px hotpink;
}
h2{
    font-family:'Dancing Script',cursive;
    font-size:42px;
    margin-bottom:20px;
}

/* Text */
p{
    font-family:'Playfair Display',serif;
    font-size:22px;
    line-height:1.7;
}

/* Inputs */
input{
    width:320px;
    padding:18px;
    margin:14px 0;
    border:none;
    border-radius:35px;
    text-align:center;
    font-size:18px;
}

/* Buttons */
button{
    padding:18px 44px;
    border:none;
    border-radius:35px;
    background:linear-gradient(45deg,#ff4d9d,#ff85c2);
    color:white;
    font-size:18px;
    cursor:pointer;
    box-shadow:0 0 40px #ff4d9d;
    margin-top:18px;
}
button:hover{transform:scale(1.1);}

/* Postcard */
.postcard{
    width:520px;
    height:340px;
    background:linear-gradient(135deg,#fff,#ffe6f0);
    border-radius:35px;
    position:relative;
    overflow:hidden;
    box-shadow:0 0 70px rgba(255,105,180,0.6);
}
.flap{
    position:absolute;
    top:0;
    width:100%;
    height:50%;
    background:linear-gradient(135deg,#ff9acb,#ff69b4);
    border-radius:35px 35px 0 0;
    transform-origin:top;
    animation:openFlap 1.5s forwards;
}
@keyframes openFlap{to{transform:rotateX(-120deg);}}

.letter-content{
    position:absolute;
    bottom:-100%;
    width:100%;
    padding:40px;
    animation:slideUp 1.7s forwards;
    animation-delay:1.2s;
}
@keyframes slideUp{to{bottom:0;}}

.letter-content h2{color:#ff4d9d;}
.letter-content p{color:#555;}

/* Candle */
.candle{
    font-size:120px;
    cursor:pointer;
    animation:flicker .2s infinite;
}
@keyframes flicker{
    0%{transform:rotate(-2deg);}
    50%{transform:rotate(2deg);}
}

/* Photos */
.photos{
    display:flex;
    flex-direction:column;
    gap:20px;
    margin-top:25px;
}
.photo{
    width:260px;
    border-radius:30px;
    opacity:0;
    transform:translateY(40px);
    transition:1s;
    box-shadow:0 0 55px rgba(255,20,147,0.8);
}
.photo.show{
    opacity:1;
    transform:translateY(0);
}
</style>
</head>

<body>

<!-- Floating hearts -->
<script>
for(let i=0;i<25;i++){
    let h=document.createElement("div");
    h.className="heart";
    h.innerHTML="ğŸ’— ğŸ‚ ğŸŒº";
    h.style.left=Math.random()*100+"vw";
    h.style.fontSize=18+Math.random()*22+"px";
    h.style.animationDuration=4+Math.random()*4+"s";
    document.body.appendChild(h);
}
</script>

<!-- LOGIN -->
<section id="login" class="active">
    <div class="card">
        <h2>ğŸ’– Login ğŸ’–</h2>
        <input id="username" placeholder="Your Beautiful Name">
        <input id="secret" type="password" placeholder="Secret Code">
        <button onclick="checkLogin()">Enter</button>
        <p id="error" style="display:none;margin-top:10px;">âŒ Wrong secret ğŸ’”</p>
    </div>
</section>

<!-- LETTER -->
<section id="letter">
    <div class="postcard">
        <div class="flap"></div>
        <div class="letter-content">
            <h2>ğŸ’Œ Just One Question ğŸ’Œ</h2>
            <p>Are you ready to see the surprise? âœ¨</p>
            <button onclick="go('cake')">Yes ğŸ™ˆ</button>
            <button onclick="exit()">No âœ¨</button>
        </div>
    </div>
</section>

<!-- CAKE -->
<section id="cake">
    <h2>ğŸ‚ Make a Wish ğŸ‚</h2>
    <p>Blow into mic ğŸ¤ or tap the candle</p>
    <div class="candle" id="candle">ğŸ‚</div>
</section>

<!-- SURPRISE -->
<section id="surprise">
    <h1>Happy Birthday</h1>
    <p>You are beautiful, kind & magical ğŸ’–âœ¨</p>
    <div class="photos">
        <img src="images/pic1.jpg" class="photo">
        <img src="images/pic2.jpg" class="photo">
        <img src="images/pic3.jpg" class="photo">
    </div>
</section>

<script>
function checkLogin(){
    const u=document.getElementById("username").value.trim();
    const s=document.getElementById("secret").value.trim();
    if(u==="bday2026" && s==="bday2026"){
        go("letter");
    }else{
        document.getElementById("error").style.display="block";
    }
}

function go(id){
    document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

function exit(){
    document.body.innerHTML="<h1 style='margin-top:40vh'>Thank You ğŸ’—</h1>";
}

function blow(){
    go("surprise");
    showPhotos();
}

function showPhotos(){
    document.querySelectorAll(".photo").forEach((p,i)=>{
        setTimeout(()=>p.classList.add("show"), i*1200);
    });
}

/* MIC BLOW DETECTION + CLICK */
const candle=document.getElementById("candle");
candle.addEventListener("click", blow);

navigator.mediaDevices.getUserMedia({audio:true})
.then(stream=>{
    const ctx=new AudioContext();
    const mic=ctx.createMediaStreamSource(stream);
    const analyser=ctx.createAnalyser();
    mic.connect(analyser);
    const data=new Uint8Array(analyser.frequencyBinCount);

    function detect(){
        analyser.getByteFrequencyData(data);
        let vol=data.reduce((a,b)=>a+b)/data.length;
        if(vol>50){blow();return;}
        requestAnimationFrame(detect);
    }
    detect();
}).catch(()=>{});
</script>

</body>
</html>
